<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CUDA é€å…ƒç´ æ“ä½œå¯è§†åŒ– - Elementwise Add</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .content {
            padding: 30px;
        }

        .controls {
            background: #f5f5f5;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            align-items: center;
        }

        .control-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .control-group label {
            font-weight: 600;
            color: #555;
        }

        .control-group input, .control-group select {
            padding: 8px 12px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
        }

        .control-group input[type="range"] {
            width: 200px;
        }

        button {
            padding: 10px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        button:active {
            transform: translateY(0);
        }

        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .info-panel {
            background: #e8f4f8;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            border-left: 4px solid #667eea;
        }

        .info-panel h3 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .info-panel p {
            line-height: 1.6;
            color: #555;
        }

        .visualization-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        @media (max-width: 1200px) {
            .visualization-container {
                grid-template-columns: 1fr;
            }
        }

        .viz-panel {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 20px;
        }

        .viz-panel h3 {
            color: #667eea;
            margin-bottom: 15px;
            text-align: center;
        }

        canvas {
            width: 100%;
            border: 1px solid #ddd;
            border-radius: 5px;
            background: #fafafa;
        }

        .legend {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 3px;
            border: 1px solid #ccc;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        .stat-card .value {
            font-size: 2em;
            font-weight: bold;
            margin: 10px 0;
        }

        .stat-card .label {
            font-size: 0.9em;
            opacity: 0.9;
        }

        .comparison-panel {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            border-radius: 5px;
            margin-top: 20px;
        }

        .comparison-panel h4 {
            color: #856404;
            margin-bottom: 8px;
        }

        .comparison-panel table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }

        .comparison-panel th,
        .comparison-panel td {
            padding: 8px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        .comparison-panel th {
            background: #ffc107;
            color: #856404;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>âš¡ CUDA é€å…ƒç´ æ“ä½œå¯è§†åŒ–</h1>
            <p>Elementwise Add - å‘é‡åŒ–å†…å­˜è®¿é—®ä¼˜åŒ–æ¼”ç¤º</p>
        </div>

        <div class="content">
            <div class="info-panel">
                <h3>ğŸ“– ç®—æ³•è¯´æ˜</h3>
                <p>
                    é€å…ƒç´ åŠ æ³•æ˜¯æœ€ç®€å•çš„ GPU æ“ä½œä¹‹ä¸€ã€‚é€šè¿‡ä½¿ç”¨å‘é‡åŒ–å†…å­˜è®¿é—®ï¼ˆfloat2ã€float4ï¼‰ï¼Œ
                    å¯ä»¥æ˜¾è‘—æé«˜å†…å­˜å¸¦å®½åˆ©ç”¨ç‡ã€‚æœ¬å¯è§†åŒ–å±•ç¤ºäº†åŸºç¡€ç‰ˆæœ¬ï¼ˆfloatï¼‰å’Œä¼˜åŒ–ç‰ˆæœ¬ï¼ˆfloat4ï¼‰
                    çš„å†…å­˜è®¿é—®æ¨¡å¼å’Œè®¡ç®—è¿‡ç¨‹ã€‚
                </p>
            </div>

            <div class="controls">
                <div class="control-group">
                    <label>æ•°ç»„å¤§å°:</label>
                    <input type="range" id="arraySize" min="16" max="128" step="16" value="32">
                    <span id="arraySizeValue">32</span>
                </div>
                <div class="control-group">
                    <label>å‘é‡åŒ–ç±»å‹:</label>
                    <select id="vectorType">
                        <option value="float">float (åŸºç¡€ç‰ˆæœ¬)</option>
                        <option value="float2">float2 (2ä¸ªå…ƒç´ )</option>
                        <option value="float4" selected>float4 (4ä¸ªå…ƒç´ )</option>
                    </select>
                </div>
                <div class="control-group">
                    <label>é€Ÿåº¦:</label>
                    <input type="range" id="speed" min="1" max="10" value="5">
                    <span id="speedValue">5</span>
                </div>
                <button id="playBtn">â–¶ï¸ å¼€å§‹åŠ¨ç”»</button>
                <button id="resetBtn">ğŸ”„ é‡ç½®</button>
                <button id="stepBtn">â­ï¸ å•æ­¥æ‰§è¡Œ</button>
            </div>

            <div class="visualization-container">
                <div class="viz-panel">
                    <h3>ğŸ“Š å†…å­˜è®¿é—®æ¨¡å¼</h3>
                    <canvas id="memoryCanvas" width="600" height="500"></canvas>
                    <div class="legend">
                        <div class="legend-item">
                            <div class="legend-color" style="background: #4CAF50;"></div>
                            <span>å·²åŠ è½½ (A)</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background: #2196F3;"></div>
                            <span>å·²åŠ è½½ (B)</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background: #FF9800;"></div>
                            <span>æ­£åœ¨è®¡ç®—</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background: #9C27B0;"></div>
                            <span>å·²å†™å…¥ (C)</span>
                        </div>
                    </div>
                </div>

                <div class="viz-panel">
                    <h3>ğŸ§µ çº¿ç¨‹æ‰§è¡ŒçŠ¶æ€</h3>
                    <canvas id="threadCanvas" width="600" height="500"></canvas>
                    <div class="legend">
                        <div class="legend-item">
                            <div class="legend-color" style="background: #4CAF50;"></div>
                            <span>æ´»è·ƒçº¿ç¨‹</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background: #FF9800;"></div>
                            <span>æ­£åœ¨è®¡ç®—</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background: #9E9E9E;"></div>
                            <span>ç©ºé—²çº¿ç¨‹</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="stats">
                <div class="stat-card">
                    <div class="label">å½“å‰çº¿ç¨‹ç´¢å¼•</div>
                    <div class="value" id="currentThread">0</div>
                </div>
                <div class="stat-card">
                    <div class="label">å·²å¤„ç†å…ƒç´ </div>
                    <div class="value" id="processedElements">0</div>
                </div>
                <div class="stat-card">
                    <div class="label">å†…å­˜äº‹åŠ¡æ•°</div>
                    <div class="value" id="memoryTransactions">0</div>
                </div>
                <div class="stat-card">
                    <div class="label">å®Œæˆåº¦</div>
                    <div class="value" id="completion">0%</div>
                </div>
            </div>

            <div class="comparison-panel">
                <h4>ğŸ“ˆ æ€§èƒ½å¯¹æ¯”ï¼ˆç†è®ºå€¼ï¼‰</h4>
                <table>
                    <thead>
                        <tr>
                            <th>å‘é‡åŒ–ç±»å‹</th>
                            <th>æ¯ä¸ªçº¿ç¨‹å¤„ç†å…ƒç´ </th>
                            <th>å†…å­˜äº‹åŠ¡æ•°</th>
                            <th>å¸¦å®½åˆ©ç”¨ç‡</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>float</td>
                            <td>1</td>
                            <td id="txFloat">-</td>
                            <td>91.9%</td>
                        </tr>
                        <tr>
                            <td>float2</td>
                            <td>2</td>
                            <td id="txFloat2">-</td>
                            <td>93.1%</td>
                        </tr>
                        <tr>
                            <td>float4</td>
                            <td>4</td>
                            <td id="txFloat4">-</td>
                            <td>93.8%</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        // é…ç½®
        let config = {
            arraySize: 32,
            vectorType: 'float4',
            speed: 5,
            isPlaying: false,
            currentThread: 0,
            processedElements: 0,
            animationFrame: null
        };

        // çŠ¶æ€
        let arrayA = [];
        let arrayB = [];
        let arrayC = [];
        let activeThreads = new Set();
        let computingThreads = new Set();
        let loadedIndicesA = new Set();
        let loadedIndicesB = new Set();
        let writtenIndices = new Set();

        // Canvas å…ƒç´ 
        const memoryCanvas = document.getElementById('memoryCanvas');
        const threadCanvas = document.getElementById('threadCanvas');
        const memoryCtx = memoryCanvas.getContext('2d');
        const threadCtx = threadCanvas.getContext('2d');

        // è·å–å‘é‡åŒ–å¤§å°
        function getVectorSize() {
            switch(config.vectorType) {
                case 'float2': return 2;
                case 'float4': return 4;
                default: return 1;
            }
        }

        // è®¡ç®—çº¿ç¨‹æ•°
        function getThreadCount() {
            return Math.ceil(config.arraySize / getVectorSize());
        }

        // åˆå§‹åŒ–
        function init() {
            config.arraySize = parseInt(document.getElementById('arraySize').value);
            config.vectorType = document.getElementById('vectorType').value;
            config.currentThread = 0;
            config.processedElements = 0;
            
            // åˆå§‹åŒ–æ•°ç»„
            arrayA = new Array(config.arraySize).fill(0).map((_, i) => i + 1);
            arrayB = new Array(config.arraySize).fill(0).map((_, i) => (i + 1) * 2);
            arrayC = new Array(config.arraySize).fill(0);
            
            activeThreads.clear();
            computingThreads.clear();
            loadedIndicesA.clear();
            loadedIndicesB.clear();
            writtenIndices.clear();
            
            updateDisplays();
            draw();
        }

        // æ›´æ–°æ˜¾ç¤º
        function updateDisplays() {
            document.getElementById('arraySizeValue').textContent = config.arraySize;
            document.getElementById('speedValue').textContent = config.speed;
            document.getElementById('currentThread').textContent = config.currentThread;
            document.getElementById('processedElements').textContent = config.processedElements;
            
            const vectorSize = getVectorSize();
            const threadCount = getThreadCount();
            const memoryTx = Math.ceil(config.processedElements / vectorSize) * 3; // A, B, C
            document.getElementById('memoryTransactions').textContent = memoryTx;
            
            const completion = Math.min(100, Math.round((config.processedElements / config.arraySize) * 100));
            document.getElementById('completion').textContent = completion + '%';
            
            // æ›´æ–°æ€§èƒ½å¯¹æ¯”è¡¨
            const totalTx = config.arraySize * 3;
            document.getElementById('txFloat').textContent = totalTx;
            document.getElementById('txFloat2').textContent = Math.ceil(totalTx / 2);
            document.getElementById('txFloat4').textContent = Math.ceil(totalTx / 4);
        }

        // æ‰§è¡Œä¸€æ­¥
        function stepCompute() {
            const vectorSize = getVectorSize();
            const threadCount = getThreadCount();
            
            if (config.currentThread >= threadCount) {
                config.isPlaying = false;
                document.getElementById('playBtn').textContent = 'â–¶ï¸ å¼€å§‹åŠ¨ç”»';
                return;
            }

            // æ¸…é™¤ä¹‹å‰çš„çŠ¶æ€
            activeThreads.clear();
            computingThreads.clear();
            loadedIndicesA.clear();
            loadedIndicesB.clear();
            writtenIndices.clear();

            // å½“å‰çº¿ç¨‹å¤„ç†
            const startIdx = config.currentThread * vectorSize;
            const endIdx = Math.min(startIdx + vectorSize, config.arraySize);
            
            activeThreads.add(config.currentThread);
            computingThreads.add(config.currentThread);
            
            // æ ‡è®°åŠ è½½çš„ç´¢å¼•
            for (let i = startIdx; i < endIdx; i++) {
                loadedIndicesA.add(i);
                loadedIndicesB.add(i);
            }
            
            // æ‰§è¡Œè®¡ç®—
            for (let i = startIdx; i < endIdx; i++) {
                arrayC[i] = arrayA[i] + arrayB[i];
                writtenIndices.add(i);
            }
            
            config.processedElements = endIdx;
            config.currentThread++;
            updateDisplays();
            draw();

            // å‡†å¤‡ä¸‹ä¸€æ­¥
            if (config.isPlaying) {
                setTimeout(() => {
                    stepCompute();
                }, 1000 / config.speed);
            }
        }

        // ç»˜åˆ¶å†…å­˜è®¿é—®
        function drawMemory() {
            const ctx = memoryCtx;
            const width = memoryCanvas.width;
            const height = memoryCanvas.height;
            const padding = 40;
            const barWidth = (width - 2 * padding) / config.arraySize;
            const maxValue = Math.max(...arrayA, ...arrayB, ...arrayC, 1);
            const barMaxHeight = (height - 2 * padding - 100) / 3;

            ctx.clearRect(0, 0, width, height);

            // ç»˜åˆ¶æ ‡é¢˜
            ctx.fillStyle = '#333';
            ctx.font = 'bold 14px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('å†…å­˜è®¿é—®æ¨¡å¼ (å‘é‡åŒ–: ' + config.vectorType + ')', width / 2, 25);

            // ç»˜åˆ¶æ•°ç»„ A
            ctx.fillStyle = '#666';
            ctx.font = '12px Arial';
            ctx.textAlign = 'left';
            ctx.fillText('æ•°ç»„ A:', padding, 50);
            for (let i = 0; i < config.arraySize; i++) {
                const x = padding + i * barWidth;
                const value = arrayA[i];
                const barHeight = (value / maxValue) * barMaxHeight;
                const y = 60 + barMaxHeight - barHeight;

                if (loadedIndicesA.has(i)) {
                    ctx.fillStyle = '#4CAF50';
                } else {
                    ctx.fillStyle = '#E0E0E0';
                }

                ctx.fillRect(x, y, barWidth - 2, barHeight);
                ctx.strokeStyle = '#333';
                ctx.lineWidth = 1;
                ctx.strokeRect(x, y, barWidth - 2, barHeight);

                ctx.fillStyle = '#000';
                ctx.font = '8px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(value.toFixed(0), x + barWidth / 2, y - 3);
            }

            // ç»˜åˆ¶æ•°ç»„ B
            ctx.fillStyle = '#666';
            ctx.font = '12px Arial';
            ctx.textAlign = 'left';
            ctx.fillText('æ•°ç»„ B:', padding, 60 + barMaxHeight + 20);
            for (let i = 0; i < config.arraySize; i++) {
                const x = padding + i * barWidth;
                const value = arrayB[i];
                const barHeight = (value / maxValue) * barMaxHeight;
                const y = 60 + barMaxHeight + 30 + barMaxHeight - barHeight;

                if (loadedIndicesB.has(i)) {
                    ctx.fillStyle = '#2196F3';
                } else {
                    ctx.fillStyle = '#E0E0E0';
                }

                ctx.fillRect(x, y, barWidth - 2, barHeight);
                ctx.strokeStyle = '#333';
                ctx.lineWidth = 1;
                ctx.strokeRect(x, y, barWidth - 2, barHeight);

                ctx.fillStyle = '#000';
                ctx.font = '8px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(value.toFixed(0), x + barWidth / 2, y - 3);
            }

            // ç»˜åˆ¶æ•°ç»„ C (ç»“æœ)
            ctx.fillStyle = '#666';
            ctx.font = '12px Arial';
            ctx.textAlign = 'left';
            ctx.fillText('æ•°ç»„ C (ç»“æœ):', padding, 60 + barMaxHeight * 2 + 40);
            for (let i = 0; i < config.arraySize; i++) {
                const x = padding + i * barWidth;
                const value = arrayC[i];
                const barHeight = (value / maxValue) * barMaxHeight;
                const y = 60 + barMaxHeight * 2 + 50 + barMaxHeight - barHeight;

                if (writtenIndices.has(i)) {
                    ctx.fillStyle = '#9C27B0';
                } else if (computingThreads.has(Math.floor(i / getVectorSize()))) {
                    ctx.fillStyle = '#FF9800';
                } else {
                    ctx.fillStyle = '#E0E0E0';
                }

                ctx.fillRect(x, y, barWidth - 2, barHeight);
                ctx.strokeStyle = '#333';
                ctx.lineWidth = 1;
                ctx.strokeRect(x, y, barWidth - 2, barHeight);

                if (value > 0) {
                    ctx.fillStyle = '#000';
                    ctx.font = '8px Arial';
                    ctx.textAlign = 'center';
                    ctx.fillText(value.toFixed(0), x + barWidth / 2, y - 3);
                }

                // ç»˜åˆ¶ç´¢å¼•
                ctx.fillStyle = '#666';
                ctx.font = '8px Arial';
                ctx.fillText(`[${i}]`, x + barWidth / 2, height - padding - 10);
            }
        }

        // ç»˜åˆ¶çº¿ç¨‹çŠ¶æ€
        function drawThreads() {
            const ctx = threadCtx;
            const width = threadCanvas.width;
            const height = threadCanvas.height;
            const padding = 40;
            const threadCount = getThreadCount();
            const cellWidth = (width - 2 * padding) / threadCount;
            const cellHeight = 40;
            const vectorSize = getVectorSize();

            ctx.clearRect(0, 0, width, height);

            // ç»˜åˆ¶æ ‡é¢˜
            ctx.fillStyle = '#333';
            ctx.font = 'bold 14px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('çº¿ç¨‹æ‰§è¡ŒçŠ¶æ€ (å…± ' + threadCount + ' ä¸ªçº¿ç¨‹)', width / 2, 25);

            for (let t = 0; t < threadCount; t++) {
                const x = padding + t * cellWidth;
                const y = padding + 20;
                const startIdx = t * vectorSize;
                const endIdx = Math.min(startIdx + vectorSize, config.arraySize);

                // ç¡®å®šé¢œè‰²
                if (computingThreads.has(t)) {
                    ctx.fillStyle = '#FF9800';
                } else if (activeThreads.has(t)) {
                    ctx.fillStyle = '#4CAF50';
                } else if (t < config.currentThread) {
                    ctx.fillStyle = '#9E9E9E';
                } else {
                    ctx.fillStyle = '#E0E0E0';
                }

                ctx.fillRect(x, y, cellWidth - 2, cellHeight);
                ctx.strokeStyle = '#333';
                ctx.lineWidth = 1;
                ctx.strokeRect(x, y, cellWidth - 2, cellHeight);

                // ç»˜åˆ¶çº¿ç¨‹ä¿¡æ¯
                ctx.fillStyle = '#000';
                ctx.font = '10px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(`T${t}`, x + cellWidth / 2, y + 15);
                ctx.font = '8px Arial';
                ctx.fillText(`[${startIdx}-${endIdx-1}]`, x + cellWidth / 2, y + 28);
            }

            // ç»˜åˆ¶è¯´æ˜
            ctx.fillStyle = '#666';
            ctx.font = '12px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(
                `æ¯ä¸ªçº¿ç¨‹å¤„ç† ${vectorSize} ä¸ªå…ƒç´  (${config.vectorType})`,
                width / 2,
                height - padding
            );
        }

        // ç»˜åˆ¶æ‰€æœ‰å†…å®¹
        function draw() {
            drawMemory();
            drawThreads();
        }

        // äº‹ä»¶ç›‘å¬
        document.getElementById('arraySize').addEventListener('input', (e) => {
            config.arraySize = parseInt(e.target.value);
            document.getElementById('arraySizeValue').textContent = config.arraySize;
            if (!config.isPlaying) {
                init();
            }
        });

        document.getElementById('vectorType').addEventListener('change', (e) => {
            config.vectorType = e.target.value;
            if (!config.isPlaying) {
                init();
            }
        });

        document.getElementById('speed').addEventListener('input', (e) => {
            config.speed = parseInt(e.target.value);
            document.getElementById('speedValue').textContent = config.speed;
        });

        document.getElementById('playBtn').addEventListener('click', () => {
            if (config.isPlaying) {
                config.isPlaying = false;
                document.getElementById('playBtn').textContent = 'â–¶ï¸ å¼€å§‹åŠ¨ç”»';
            } else {
                if (config.currentThread >= getThreadCount()) {
                    init();
                }
                config.isPlaying = true;
                document.getElementById('playBtn').textContent = 'â¸ï¸ æš‚åœ';
                stepCompute();
            }
        });

        document.getElementById('resetBtn').addEventListener('click', () => {
            config.isPlaying = false;
            document.getElementById('playBtn').textContent = 'â–¶ï¸ å¼€å§‹åŠ¨ç”»';
            init();
        });

        document.getElementById('stepBtn').addEventListener('click', () => {
            if (config.currentThread >= getThreadCount()) {
                init();
                return;
            }
            config.isPlaying = false;
            document.getElementById('playBtn').textContent = 'â–¶ï¸ å¼€å§‹åŠ¨ç”»';
            stepCompute();
        });

        // å“åº”å¼è°ƒæ•´ Canvas å¤§å°
        function resizeCanvases() {
            const container = document.querySelector('.visualization-container');
            const panels = container.querySelectorAll('.viz-panel');
            panels.forEach(panel => {
                const canvas = panel.querySelector('canvas');
                if (canvas) {
                    const rect = panel.getBoundingClientRect();
                    canvas.width = rect.width - 40;
                    canvas.height = Math.min(500, (rect.width - 40) * 0.8);
                    draw();
                }
            });
        }

        window.addEventListener('resize', resizeCanvases);

        // åˆå§‹åŒ–
        init();
        resizeCanvases();
    </script>
</body>
</html>

